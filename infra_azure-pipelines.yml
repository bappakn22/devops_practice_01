
trigger: none


pool:
  vmImage: ubuntu-latest

stages:
  - stage: terraforminit
    displayName: "init will run"
    jobs:
      - job: "terraforminstall"
        steps:
         - task: TerraformInstaller@1
           inputs:
             terraformVersion: 'latest'
          
         - task: TerraformTask@5
           inputs:
             provider: 'azurerm'
             command: 'init'
             workingDirectory: '$(System.DefaultWorkingDirectory)/module'
             backendServiceArm: 'infra-azure-connection'
             backendAzureRmResourceGroupName: 'arukol_rg'
             backendAzureRmStorageAccountName: 'arustgstate'
             backendAzureRmContainerName: 'arustgstate'
             backendAzureRmKey: 'infra_pipeline.tfstate'